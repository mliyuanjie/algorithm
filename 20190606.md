# recover a tree from preorder traversal  
**stack while**  
*1. two stack store the pointer and level number</br>2. while*  
```
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode(int x) : val(x), left(NULL), right(NULL) {}
 * };
 */
class Solution {
public:
    
    TreeNode* recoverFromPreorder(string S) {
        stack<TreeNode*> bag1;
        stack<int> bag2;
        int m;
        int n=0;
        int i=0;
        TreeNode* root;
        while(i<S.length()){
            n=0;
            while((int)S[i]==45){
                n++;
                i++;
            }
            m=0;
            while((int)S[i]!=45 && i<S.length()){
                m=(int)S[i]-48+m*10;
                i++;
            }
            if(n==0){
                root=new TreeNode(m);
                bag1.push(root);
                bag2.push(n);
                continue;
            }
            while(!bag1.empty()){
                if(n>bag2.top() && !bag1.top()->left) {
                    bag1.top()->left=new TreeNode(m);
                    bag1.push(bag1.top()->left);
                    bag2.push(n);
                    
                    break;}
                else if(n>bag2.top() && !bag1.top()->right) {
                    bag1.top()->right=new TreeNode(m);
                    bag1.push(bag1.top()->right);
                    bag2.push(n);
                    break;}
                else {bag1.pop();bag2.pop();}
                
            }
            
        }
        return root;
        
    }

};

```
